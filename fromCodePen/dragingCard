<!-- ðŸ§­ Header -->
<header class="header">
  <a href="https://turbokit.io/" target="_blank" class="made" aria-label="âœ¦ the fastest website template âœ¦" data-microtip-position="top" role="tooltip">
    <div class="by">MADE BY</div>
    <div class="logo">
      <img src="https://i.imgur.com/aNnuxjo.png" alt="logo" class="logo-img" draggable="false">
      <div class="logo-text">TurboKit</div>
    </div>
  </a>
</header>

<!-- ðŸ“‡ Profile Cards -->
<section class="cards">

  <!-- ðŸ§‘â€ðŸŽ¨ Card 1 -->
  <div class="card-wrap">
    <div class="card">
      <div class="card-filter"></div>
      <img src="https://i.pinimg.com/736x/fd/5d/b0/fd5db03cfc44d0f9b6b4d4b7fdb05340.jpg" alt="bg" class="card-bg">

      <!-- ðŸŸ¢ Status -->
      <div class="card-status">
        <div class="card-status-dot online"></div>
        <div class="card-status-text">Online</div>
      </div>

      <!-- âœ‹ Drag Handle -->
      <div class="card-handle grab">
        <div class="card-handle-tip" aria-label="Drag" data-microtip-position="left" role="tooltip">
          <span class="iconify handle" data-icon="ic:outline-drag-indicator"></span>
        </div>
      </div>

      <!-- ðŸ’¬ Content -->
      <div class="card-content">

        <!-- ðŸ™‹ Name + Verified -->
        <div class="card-name-wrap">
          <div class="card-name">Lukas Meier</div>
          <div class="card-verfied" aria-label="Verified" data-microtip-position="right" role="tooltip">
            <span class="card-verification iconify" data-icon="si:verified-fill"></span>
          </div>
        </div>

        <!-- â­ Tags + Stats -->
        <div class="card-tags">
          <div class="card-tag">
            <div class="card-rating-text">4.5</div>
            <div class="card-rating-stars">
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled-half"></span>
            </div>
          </div>
          <div class="card-tag">
            <span class="iconify card-tag-icon" data-icon="line-md:account"></span>
            <div class="card-rating-text">3.1 K</div>
          </div>
        </div>

        <!-- ðŸ§¾ Description -->
        <div class="card-description">
          Digital product designer crafting intuitive, scalable user journeys
        </div>

        <!-- ðŸ“ž Contact Button -->
        <div class="card-button pointer">
          <div class="card-button-text pointer">Get In Touch</div>
          <div class="card-button-call pointer">
            <span class="card-button-call-icon iconify pointer" data-icon="line-md:phone-call-loop"></span>
          </div>
        </div>
      </div>

      <div class="card-fade"></div>
    </div>
  </div>

  <!-- ðŸ§‘â€ðŸ’¼ Card 2 -->
  <div class="card-wrap">
    <div class="card">
      <div class="card-filter"></div>
      <img src="https://i.pinimg.com/736x/80/b2/ff/80b2ff0b40a7b586cdd4cd8ff264d7a9.jpg" alt="bg" class="card-bg">

      <!-- ðŸŸ¢ Status -->
      <div class="card-status">
        <div class="card-status-dot online"></div>
        <div class="card-status-text">Online</div>
      </div>

      <!-- âœ‹ Drag Handle -->
      <div class="card-handle grab">
        <div class="card-handle-tip" aria-label="Drag" data-microtip-position="left" role="tooltip">
          <span class="iconify handle" data-icon="ic:outline-drag-indicator"></span>
        </div>
      </div>

      <!-- ðŸ’¬ Content -->
      <div class="card-content">

        <!-- ðŸ™‹ Name + Verified -->
        <div class="card-name-wrap">
          <div class="card-name">Max Steiner</div>
          <div class="card-verfied" aria-label="Verified" data-microtip-position="right" role="tooltip">
            <span class="card-verification iconify" data-icon="si:verified-fill"></span>
          </div>
        </div>

        <!-- â­ Tags + Stats -->
        <div class="card-tags">
          <div class="card-tag">
            <div class="card-rating-text">4.0</div>
            <div class="card-rating-stars">
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star"></span>
            </div>
          </div>
          <div class="card-tag">
            <span class="iconify card-tag-icon" data-icon="line-md:account"></span>
            <div class="card-rating-text">2.4 K</div>
          </div>
        </div>

        <!-- ðŸ§¾ Description -->
        <div class="card-description">
          Digital designer turning complex workflows into seamless journeys
        </div>

        <!-- ðŸ“ž Contact Button -->
        <div class="card-button pointer">
          <div class="card-button-text pointer">Get In Touch</div>
          <div class="card-button-call pointer">
            <span class="card-button-call-icon iconify pointer" data-icon="line-md:phone-call-loop"></span>
          </div>
        </div>
      </div>

      <div class="card-fade"></div>
    </div>
  </div>

  <!-- ðŸ§‘â€ðŸ’» Card 3 -->
  <div class="card-wrap">
    <div class="card">
      <div class="card-filter"></div>
      <img src="https://i.pinimg.com/736x/37/d4/7b/37d47b1d8979b4fe22014c89bedd5c10.jpg" alt="bg" class="card-bg">

      <!-- ðŸ”´ Status -->
      <div class="card-status">
        <div class="card-status-dot offline"></div>
        <div class="card-status-text">Offline</div>
      </div>

      <!-- âœ‹ Drag Handle -->
      <div class="card-handle grab">
        <div class="card-handle-tip" aria-label="Drag" data-microtip-position="left" role="tooltip">
          <span class="iconify handle" data-icon="ic:outline-drag-indicator"></span>
        </div>
      </div>

      <!-- ðŸ’¬ Content -->
      <div class="card-content">

        <!-- ðŸ™‹ Name + Verified -->
        <div class="card-name-wrap">
          <div class="card-name">Ueli Huber</div>
          <div class="card-verfied" aria-label="Verified" data-microtip-position="right" role="tooltip">
            <span class="card-verification iconify" data-icon="si:verified-fill"></span>
          </div>
        </div>

        <!-- â­ Tags + Stats -->
        <div class="card-tags">
          <div class="card-tag">
            <div class="card-rating-text">5.0</div>
            <div class="card-rating-stars">
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
              <span class="iconify card-rating-star" data-icon="line-md:star-filled"></span>
            </div>
          </div>
          <div class="card-tag">
            <span class="iconify card-tag-icon" data-icon="line-md:account"></span>
            <div class="card-rating-text">1.7 K</div>
          </div>
        </div>

        <!-- ðŸ§¾ Description -->
        <div class="card-description">
          UX strategist designing frictionless, data-driven digital experiences
        </div>

        <!-- ðŸ“ž Contact Button -->
        <div class="card-button pointer">
          <div class="card-button-text pointer">Get In Touch</div>
          <div class="card-button-call pointer">
            <span class="card-button-call-icon iconify pointer" data-icon="line-md:phone-call-loop"></span>
          </div>
        </div>
      </div>

      <div class="card-fade"></div>
    </div>
  </div>
</section>

<!-- ðŸ“£ Footer -->
<footer class="footer">
  <a class="follow" href="https://x.com/turbokitHQ" target="_blank">
    <div class="by">MORE LIKE THIS?</div>
    <div class="follow-x">
      <div class="follow-logo">
        <span class="iconify" data-icon="line-md:twitter-x"></span>
      </div>
      <div class="follow-text">
        <div class="follow-us">
          follow us
        </div>
        <div class="follow-handle">@turbokitHQ</div>
      </div>
    </div>
  </a>
</footer>



/*=================
       VARS
===================*/
:root {
  --bg: #ffffff;
  --text: #ffffff;
  --accent: #000000;
  --radius: 2.5rem;
  --shadow: 0 0.4rem 1rem rgba(0, 0, 0, 0.1);
  --anim: cubic-bezier(0, 0, 0.25, 1);
  --microtip-font-size: 11px;
  --microtip-transition-easing: var(--anim);
  --microtip-transition-duration: 0.3s;
}

* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: "Switzer", sans-serif;
}

*::selection {
  background: rgba(255, 0, 50, 0.3);
}

[aria-label][role~="tooltip"]::after {
  border-radius: var(--radius);
}

[aria-label][role~="tooltip"]::before {
  display: none;
}

body {
  background: black;
  color: white;
  font-family: "Switzer", sans-serif;
  display: flex;
  flex-flow: column;
  padding: 4rem 0;
  min-height: 100vh;
  cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMyIgaGVpZ2h0PSIyMyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzlkOWQ5ZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJtMyAzbDcgMTlsMi4wNTEtNi4xNTRhNiA2IDAgMCAxIDMuNzk1LTMuNzk1TDIyIDEweiIgLz4KPC9zdmc+"),
    default;
}

a {
  text-decoration: none;
}

.pointer,
a,
button {
  cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMyIgaGVpZ2h0PSIyMyIgdmlld0JveD0iMCAwIDE0IDE0Ij4KCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2I1YjFiMSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTAuNSA2LjEzYTIgMiAwIDAgMSAxLjU5IDIuMjRsLS42MSA0LjI3YTEgMSAwIDAgMS0xIC44Nkg0YTEgMSAwIDAgMS0uOTMtLjYzTDIgMTAuMjFhMiAyIDAgMCAxIDEtMi41M0w0LjM1IDdWMmExLjUgMS41IDAgMCAxIDMgMHYzLjV6IiBzdHJva2Utd2lkdGg9IjEiIC8+Cjwvc3ZnPg=="),
    default;
}

.grab {
  cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMyIgaGVpZ2h0PSIyMyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KCTxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2Y5ZjlmOSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiPgoJCTxwYXRoIGQ9Ik0xOCAxMS41VjlhMiAyIDAgMCAwLTItMmEyIDIgMCAwIDAtMiAydjEuNG0wLS40VjhhMiAyIDAgMCAwLTItMmEyIDIgMCAwIDAtMiAydjJtMC0uMVY5YTIgMiAwIDAgMC0yLTJhMiAyIDAgMCAwLTIgMnY1bTAgMGEyIDIgMCAwIDAtMi0yYTIgMiAwIDAgMC0yIDIiIC8+CgkJPHBhdGggZD0iTTE4IDExYTIgMiAwIDEgMSA0IDB2M2E4IDggMCAwIDEtOCA4aC00YTggOCAwIDAgMS04LThhMiAyIDAgMSAxIDQgMCIgLz4KCTwvZz4KPC9zdmc+"),
    grab;
}

.grabbing {
  cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMyIgaGVpZ2h0PSIyMyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KCTxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiPgoJCTxwYXRoIGQ9Ik0xOCAxMS41VjlhMiAyIDAgMCAwLTItMmEyIDIgMCAwIDAtMiAydjEuNG0wLS40VjhhMiAyIDAgMCAwLTItMmEyIDIgMCAwIDAtMiAydjJtMC0uMVY5YTIgMiAwIDAgMC0yLTJhMiAyIDAgMCAwLTIgMnY1bTAgMGEyIDIgMCAwIDAtMi0yYTIgMiAwIDAgMC0yIDIiIC8+CgkJPHBhdGggZD0iTTE4IDExYTIgMiAwIDEgMSA0IDB2M2E4IDggMCAwIDEtOCA4aC00YTggOCAwIDAgMS04LThhMiAyIDAgMSAxIDQgMCIgLz4KCTwvZz4KPC9zdmc+"),
    grabbing !important;
}

/*=================
      MADE BY
===================*/

.by {
  font-size: 0.5rem;
  letter-spacing: 100;
  opacity: 0.5;
  letter-spacing: 0.2rem;
  text-align: center;
  display: flex;
  justify-content: center;
  align-content: center;
  margin-bottom: 0.15rem;
}

.header {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-flow: column;
  margin: 3rem 0 4rem 0;
}

.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: -1rem;
}

.made {
  color: white;
  justify-content: center;
  align-items: center;
  flex-flow: column;
  /*initial*/
  opacity: 0;
}

.logo-img {
  height: 1.75rem;
  margin-right: 0.3rem;
  pointer-events: none;
  user-select: none;
}

.logo-text {
  font-weight: 800;
  font-size: 1.3rem;
}

/*=================
       CARDS
===================*/

.cards {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  width: 100vw;
}

.card-wrap {
  position: relative;
}

.card-filter {
  position: absolute;
  height: 100%;
  width: 100%;
  left: 0;
  top: 0;
  background: rgba(255, 255, 255, 0.1);
  z-index: 9;
  pointer-events: none;
  backdrop-filter: blur(0.2rem);
  opacity: 0;
  transition: opacity 0.1s var(--anim);
}

.card {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: flex-end;
  height: 22rem;
  width: 14rem;
  min-height: 22rem;
  min-width: 14rem;
  max-height: 22rem;
  max-width: 14rem;
  margin: 1rem;
  padding: 1rem;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  position: relative;
  opacity: 0;
  transition: opacity 0.4s var(--anim), transform 0.3s var(--anim);
}

.draggable--over .card {
  opacity: 0.5 !important;
  filter: blur(0.5rem) !important;
  transform: scale(0.8) !important;
  box-shadow: none;
  border: none;
}

.draggable-mirror {
  z-index: 99;
  opacity: 1;
}

.draggable-mirror .card {
  transform: scale(0.98) rotate(5deg);
}

.draggable-mirror .card-filter {
  opacity: 1;
}

.card-bg {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  z-index: -1;
  pointer-events: none;
  user-select: none;
}

.card-content {
  position: relative;
  z-index: 3;
  padding: 0 0.25rem;
}

.card-status {
  margin: 0.25rem 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(0.5rem);
  width: 5rem;
  height: 1.5rem;
  border-radius: var(--radius);
  position: absolute;
  top: 1rem;
  left: 1rem;
  pointer-events: none;
  user-select: none;
}

.card-status-dot {
  height: 0.3rem;
  width: 0.3rem;
  border-radius: 50%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-right: 0.75rem;
}

@keyframes pulse {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(3);
    opacity: 0;
  }
}

.card-status-dot:after {
  content: "";
  height: 100%;
  width: 100%;
  background: inherit;
  border-radius: 50%;
  animation: pulse 1s var(--anim) infinite;
}

.card-status-dot.online {
  background: mediumseagreen;
}
.card-status-dot.offline {
  background: grey;
}

.card-status-dot.offline:after {
  animation: none;
}

.card-status-text {
  font-size: 0.7rem;
  opacity: 0.75;
}

.card-handle {
  background: rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(0.1rem);
  border-radius: var(--radius);
  position: absolute;
  top: 1rem;
  right: 1rem;
  height: 2.5rem;
  width: 2.5rem;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.card-handle-tip {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
}

.handle {
  width: 100%;
  height: 1.25rem;
  color: black;
}

.card-name-wrap {
  width: 100%;
  display: flex;
  align-items: center;
  margin: 0.75rem 0;
}

.card-name {
  font-size: 1.25rem;
  font-weight: 700;
  margin-right: 0.5rem;
}

.card-verification {
  font-size: 1.25rem;
  color: var(--bg);
  filter: drop-shadow(0 0 0.5rem var(--accent));
}

.card-tags {
  display: flex;
  align-items: center;
  flex-flow: row;
  margin: 0.5rem 0;
}

.card-tag {
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(0.5rem);
  padding: 0.3rem 0.5rem;
  border-radius: var(--radius);
  font-size: 0.75rem;
  margin-right: 0.5rem;
  pointer-events: none;
}

.card-tag-icon {
  margin-right: 0.25rem;
}

.card-rating-text {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-right: 0.5rem;
}
.card-rating-star {
  font-size: 0.5rem;
}

.card-rating-stars {
  display: flex;
  justify-content: center;
  align-items: center;
}

.card-description {
  font-size: 0.8rem;
  line-height: 1.6;
  font-weight: 300;
  margin: 0.5rem 0 1rem 0;
  /*initial*/
  opacity: 0;
}

.card-button {
  padding: 0.3rem 0.3rem 0.3rem 0.5rem;
  border-radius: var(--radius);
  background: rgba(255, 255, 255, 0.2);
  color: var(--bg);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-button-call {
  background: var(--bg);
  min-height: 2.5rem;
  min-width: 2.5rem;
  border-radius: 50%;
  color: var(--accent);
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.5);
}

.card-button-text {
  margin-left: 0.5rem;
  font-weight: 500;
  letter-spacing: -0.02rem;
  word-spacing: 0.05rem;
  font-size: 0.85rem;
}

.card-button-call-icon {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  width: 100%;
  font-size: 1.2rem;
}

.card-fade {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 20rem;
  width: 100%;
  z-index: 0;
  opacity: 0.75;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1));
  pointer-events: none;
}

/*=================
      FOOTER
===================*/

.footer {
  margin: 4rem 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.follow {
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-flow: column;
}

.follow-x {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 1rem 0;
}

.follow-logo {
  height: 2rem;
  width: 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 0.5rem;
  margin-right: 0.5rem;
  color: black;
  background: white;
}

.follow-text {
  font-size: 0.8rem;
  font-weight: 600;
  display: flex;
  justify-content: center;
  flex-flow: column;
}

.follow-us {
  text-transform: uppercase;
  opacity: 0.5;
  font-size: 0.7rem;
}

.follow-handle {
  font-weight: 700;
  margin: 0.25rem 0;
}



// --- ðŸ“¦ Imports ---
import { animate, hover, press } from "https://esm.sh/motion";
import { Howl } from "https://esm.sh/howler";
import { Sortable, Plugins } from "https://esm.sh/@shopify/draggable";

// --- ðŸ“± Touch Support ---
const isTouchDevice = "ontouchstart" in window || navigator.maxTouchPoints > 0;

// --- ðŸ”Š Audio Helper ---
let playAudio = true,
  ended = true,
  currentSound;

// â–¶ï¸ Play audio file with optional volume/speed
const play = async (file, volume = 0.5, speed = 1) => {
  const context = new (AudioContext || webkitAudioContext)();
  await context.resume().catch(() => {});
  if (context.state === "suspended") return false;

  currentSound?.stop(); // stop any current sound
  ended = false;

  currentSound = new Howl({
    src: [file],
    autoplay: playAudio,
    volume,
    rate: speed,
    onend: () => {
      ended = true;
      currentSound = null;
    }
  });

  return true;
};

// --- ðŸ§± DOM Elements ---
const cards = document.querySelector(".cards");
const made = document.querySelector(".made");

// --- ðŸ·ï¸ "Made by" UI animation ---
animate(made, { scale: [0.75, 1], opacity: [0, 0.75] }, { delay: 0.25 });

hover(made, () => {
  animate(
    made,
    { scale: 1.02, opacity: 1 },
    { type: "spring", stiffness: 200 }
  );
  return () => animate(made, { scale: 1, opacity: 0.75 }, { type: "spring" });
});

// --- ðŸ§² Sortable Cards Init ---
const sortable = new Sortable(cards, {
  draggable: ".card-wrap",
  handle: isTouchDevice ? null : ".card-handle",
  plugins: [Plugins.SortAnimation]
});

// âŒ Cancel mirror on drag end + animate disappearance
sortable.on("mirror:destroy", (e) => {
  e.cancel();
  const r = e.source.getBoundingClientRect();
  animate(
    e.mirror,
    {
      x: r.left,
      y: r.top,
      filter: "blur(2rem)",
      opacity: 0,
      scale: 0.5
    },
    {
      x: { duration: 0.3 },
      y: { duration: 0.3 },
      filter: { duration: 0.5 },
      opacity: { duration: 0.5 },
      scale: { duration: 0.5 },
      onComplete: () => e.mirror.remove()
    }
  );
});

// ðŸŸ¡ Play drag start sound
sortable.on("sortable:start", () => {
  play("https://cdn.freesound.org/previews/582/582898_5965684-lq.mp3");
  document.body.classList.add("grabbing");
});

// ðŸŸ¢ Play drop sound and animate dropped card
sortable.on("sortable:stop", (e) => {
  document.body.classList.remove("grabbing");
  play("https://cdn.freesound.org/previews/370/370962_5450487-lq.mp3");

  requestAnimationFrame(() => {
    animate(
      e.data.newContainer.children[e.data.newIndex],
      { scale: [1.1, 1] },
      { type: "spring", stiffness: 200, damping: 10 }
    );
  });
});

// --- âœ¨ Animate Each Card ---
[...cards.children].forEach((card, i) => {
  const bg = card.querySelector(".card-bg");
  const fade = card.querySelector(".card-fade");
  const button = card.querySelector(".card-button");
  const cardUI = card.querySelector(".card");
  const handle = card.querySelector(".card-handle");
  const name = card.querySelector(".card-name");
  const description = card.querySelector(".card-description");

  // ðŸ–±ï¸ Hover on card - fade + button color
  hover(card, () => {
    animate(fade, { opacity: 1 });
    animate(button, { background: "#FF004D" });
    return () => {
      animate(fade, { opacity: 0.75 });
      animate(button, { background: "rgba(255, 255, 255, 0.2)" });
    };
  });

  // ðŸŽ¬ Card Fade-in Animation
  animate(
    cardUI,
    {
      opacity: [0, 1],
      filter: ["blur(1rem)", "blur(0)"]
    },
    {
      duration: 0.8,
      delay: i / 4
    }
  );

  // ðŸ“ Animate text entries
  animate(name, { y: [20, 0], opacity: [0, 1] }, { delay: i / 4 + 0.3 });
  animate(
    description,
    { y: [20, 0], opacity: [0, 0.4] },
    { delay: i / 4 + 0.5 }
  );

  // ðŸŒŒ Background Pulse
  animate(
    bg,
    {
      scale: [1, 1.2]
    },
    {
      duration: 15,
      repeat: Infinity,
      repeatType: "reverse",
      ease: "linear"
    }
  );

  // ðŸ‘‰ Button Press Feedback
  press(button, () => {
    animate(button, { scale: 1.1 });
    return () => animate(button, { scale: 1 });
  });

  // ðŸŽ¯ Handle Hover - zoom in effect
  hover(handle, () => {
    animate(handle, { scale: 0.95 });
    animate(bg, { scale: 1.1 }, { type: "spring", stiffness: 50, damping: 10 });
    animate(
      card,
      { scale: 1.025 },
      { type: "spring", stiffness: 100, damping: 10 }
    );

    // ðŸ” Reset scale + resume bg animation
    return () => {
      animate(
        card,
        { scale: 1 },
        { type: "spring", stiffness: 100, damping: 10 }
      );
      animate(handle, { scale: 1 });
      animate(
        bg,
        { scale: 1 },
        { type: "spring", stiffness: 50, damping: 10 }
      ).then(() => {
        animate(
          bg,
          {
            scale: [1, 1.2]
          },
          {
            duration: 15,
            repeat: Infinity,
            repeatType: "reverse",
            ease: "linear"
          }
        );
      });
    };
  });
});

// --- ðŸ·ï¸ Footer animation ---
const follow = document.querySelector(".follow");
animate(follow, { scale: [0.75, 1], opacity: [0, 0.75] }, { delay: 0.25 });

hover(follow, () => {
  animate(
    follow,
    { scale: 1.03, opacity: 1 },
    { type: "spring", stiffness: 200 }
  );
  return () => animate(follow, { scale: 1, opacity: 0.75 }, { type: "spring" });
});
